{% extends "base.html" %}

{% block bottom_nav %}{% endblock %}

{% block content %}

<!-- ===== ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ç”»é¢ ===== -->
<div id="splash-screen" style="
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: opacity 0.8s ease, transform 0.8s ease;
">
    <div style="
        position: absolute; inset: 0;
        background: radial-gradient(ellipse at 50% 100%, #0a2a4a 0%, transparent 60%),
                    radial-gradient(ellipse at 20% 60%, #0d4f7c 0%, transparent 50%),
                    linear-gradient(180deg, #0a1628 0%, #0d3a5c 30%, #0d6e9e 60%, #1a9fd4 80%, #87ceeb 100%);
    "></div>

    <div style="position:relative; z-index:10; display:flex; flex-direction:column; align-items:center; gap:1.5rem; padding:2rem; text-align:center;">
        <div style="
            width:80px; height:80px; border-radius:50%;
            background: radial-gradient(circle, #f5c842, #c49a1a);
            border: 4px solid #fff;
            display:flex; align-items:center; justify-content:center;
            font-size:2.5rem;
        ">ğŸ£</div>

        <div>
            <div style="
                font-weight:900;
                font-size: clamp(2.5rem, 10vw, 4rem);
                color:#fff;
            ">
                é‡£ã‚ŠãŸã¾<span style="color:#f5c842;">GO!!</span>
            </div>
        </div>

        <button onclick="startGame()" style="
            padding: 1rem 3rem;
            font-weight:900;
            font-size:1.2rem;
            background: linear-gradient(135deg, #f5c842, #c49a1a);
            border:none;
            border-radius:50px;
            cursor:pointer;
        ">â–¶ ã‚¹ã‚¿ãƒ¼ãƒˆï¼</button>
    </div>
</div>

<script>
function startGame() {
    const splash = document.getElementById('splash-screen');
    splash.style.display = 'none';
}
</script>
<!-- ===== ã‚¹ãƒ—ãƒ©ãƒƒã‚·ãƒ¥ã“ã“ã¾ã§ ===== -->


<div class="header">
    <div class="sea-bg" style="background-image: url('{{ bg_image }}');"></div>
    <div class="header-content">
        <div class="title-banner">ğŸ£ é‡£ã‚ŠãŸã¾GO!!</div>
        <div class="user-info">
            <span class="username">
                å‹‡è€…ï¼š
                {% if current_user.is_authenticated %}
                    {{ current_user.username }}
                {% else %}
                    ã‚²ã‚¹ãƒˆ
                {% endif %}
            </span>
            <span class="badge-icon">ğŸ¡</span>
        </div>

        <div class="level-display">
            <span class="level-label">âœ¦ LEVEL âœ¦</span>
            <span class="level-number">
                {% if current_user.is_authenticated %}
                    {{ current_user.level }}
                {% else %}
                    ?
                {% endif %}
            </span>
            <div class="level-bar">
                <div class="level-bar-fill"></div>
            </div>
        </div>
    </div>
</div>

<div class="section-title">âš” å›³é‘‘ãƒ»çŸ¥è­˜ âš”</div>
<div class="menu-grid">
    <a href="/learn/tools" class="menu-item">
        <img src="{{ url_for('static', filename='images/tackle_box.png') }}">
        <div class="menu-label">é“å…·å›³é‘‘</div>
    </a>

    <a href="/learn/conditions" class="menu-item">
        <img src="{{ url_for('static', filename='images/lake_day.png') }}">
        <div class="menu-label">é‡£ã‚Œã‚‹æ¡ä»¶</div>
    </a>

    <a href="/learn/spots" class="menu-item">
        <img src="{{ url_for('static', filename='images/map_icon.png') }}">
        <div class="menu-label">å ´æ‰€</div>
    </a>

    <a href="/learn/rules" class="menu-item">
        <img src="{{ url_for('static', filename='images/fishing_license.png') }}">
        <div class="menu-label">ãƒ«ãƒ¼ãƒ«</div>
    </a>
</div>


<div class="section-title">ğŸ… ã‚¯ã‚¨ã‚¹ãƒˆãƒ»æŒ‘æˆ¦ ğŸ…</div>
<div class="menu-grid">

    <a href="/fish" class="menu-item">
        <img src="{{ url_for('static', filename='images/fish_vintage.png') }}">
        <div class="menu-label">é­šå›³é‘‘</div>
    </a>

    <!-- âœ… ä¿®æ­£æ¸ˆã¿ï¼šãƒãƒƒã‚¸ -->
    <a href="{{ url_for('badge.badge_list') }}" class="menu-item">
        <img src="{{ url_for('static', filename='images/medal.png') }}">
        <div class="menu-label">ãƒãƒƒã‚¸</div>
    </a>

    <a href="/quests/" class="menu-item">
        <img src="{{ url_for('static', filename='images/gear_inventory.png') }}">
        <div class="menu-label">ã‚¯ã‚¨ã‚¹ãƒˆ</div>
    </a>

    <a href="/learn/" class="menu-item">
        <img src="{{ url_for('static', filename='images/live_bait.png') }}">
        <div class="menu-label">é‡£ã®ä»•æ–¹</div>
    </a>

</div>

{% endblock %}