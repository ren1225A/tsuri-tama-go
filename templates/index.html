{% extends "base.html" %}

{% block bottom_nav %}{% endblock %}

{% block content %}

<div class="header">
    <div class="sea-bg" style="background-image: url('{{ bg_image }}');"></div>
    <div class="header-content">
        <div class="title-banner">ğŸ£ é‡£ã‚ŠãŸã¾GO!! ğŸ£</div>
        <div class="user-info">
            <span class="username">name: ã‚²ã‚¹ãƒˆ</span>
            <span class="badge-icon">ğŸ¡</span>
        </div>
        <div class="level-display">
            <span class="level-label">LEVEL</span>
            <span class="level-number">?</span>
            <div class="level-bar">
                <div class="level-bar-fill"></div>
            </div>
        </div>
    </div>
</div>

<div class="menu-grid">
    <a href="/learn/tools" class="menu-item">
        <div class="menu-icon">ğŸ“š</div>
        <div class="menu-label">é“å…·å›³é‘‘</div>
    </a>
    <a href="/learn/conditions" class="menu-item">
        <div class="menu-icon">ğŸŒ¤ï¸</div>
        <div class="menu-label">é‡£ã‚Œã‚‹æ¡ä»¶</div>
    </a>
    <a href="/learn/spots" class="menu-item">
        <div class="menu-icon">ğŸ—ºï¸</div>
        <div class="menu-label">å ´æ‰€</div>
    </a>
    <a href="/learn/rules" class="menu-item">
        <div class="menu-icon">ğŸ“œ</div>
        <div class="menu-label">ãƒ«ãƒ¼ãƒ«</div>
    </a>
</div>

<div class="catch-log">
    <div class="catch-log-title">ï½ Best size ï½</div>
    {% if best_catch %}
    <div class="catch-card">
        <div class="catch-photo">ğŸŸ</div>
        <div class="catch-info">
            <p>é­šç¨®: {{ best_catch.fish.name }}</p>
            <p>å¤§ãã•: {{ best_catch.size_cm }}cm</p>
            <p>ãƒã‚¤ãƒ³ãƒˆ: â­ {{ best_catch.earned_points }}pt</p>
        </div>
    </div>
    {% else %}
    <div class="catch-empty">ã¾ã é‡£æœãŒã‚ã‚Šã¾ã›ã‚“ã€‚é‡£ã‚Šã«è¡Œã“ã†ï¼ğŸ£</div>
    {% endif %}
</div>

<div class="menu-grid">
    <a href="/learn/fish" class="menu-item">
        <div class="menu-icon">ğŸ </div>
        <div class="menu-label">é­šå›³é‘‘</div>
    </a>
    <a href="/mission/badges" class="menu-item">
        <div class="menu-icon">ğŸ…</div>
        <div class="menu-label">ãƒãƒƒã‚¸</div>
    </a>
    <a href="/mission/" class="menu-item">
        <div class="menu-icon">âš”ï¸</div>
        <div class="menu-label">ã‚¯ã‚¨ã‚¹ãƒˆ</div>
    </a>
    <a href="/learn/" class="menu-item">
        <div class="menu-icon">ğŸ“–</div>
        <div class="menu-label">é‡£ã®ä»•æ–¹</div>
    </a>
</div>

<script>
if (!localStorage.getItem('tsuri_username')) {
    window.location.href = '/register';
}
const savedName = localStorage.getItem('tsuri_username');
if (savedName) {
    const el = document.querySelector('.username');
    if (el) el.textContent = 'name: ' + savedName;
}
</script>

{% endblock %}